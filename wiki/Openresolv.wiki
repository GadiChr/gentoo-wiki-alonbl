= Openresolv =

{{Package|net-dns/openresolv}} handles /etc/resolv.conf dynamic changes and priority. This is needed as there are several daemons (dhcpcd, ppp, openvpn) that actively rewrites /etc/resolv.conf. This leads to undesired results, as usually only the last settings are preserved.

{{Package|net-dns/openresolv}} provides a common interface for /etc/resolv.conf, and is used by {{Package|sys-apps/openrc}}, {{Package|net-misc/dhcpcd}}, {{Package|net-misc/openvpn}} if openresolv package is installed. There is no direct dependency, so you need to install it directly.

== Installation ==

{{Root|emerge net-dns/openresolv}}

== Manage ==

Usually once installed nothing should be done, to see it working, watch for resolvconf signature within /etc/resolv.conf.
{{Root|cat /etc/resolv.conf}}
{{Codeline|<pre>
# Generated by resolvconf
search mydomain.com domain.name
nameserver 10.10.50.2
nameserver 10.10.50.39
nameserver 192.168.1.1
</pre>}}

Show status:
{{Root|resolvconf -l}}
{{Codeline|<pre>
# resolvconf -l
# resolv.conf from vpn0
# Generated by openvpn for interface vpn0
domain mydomain.com
nameserver 10.10.50.2
nameserver 10.10.50.39

# resolv.conf from wlan0
# Generated by dhcpcd from wlan0
domain domain.name
nameserver 192.168.1.1
</pre>}}

Force update:
{{Root|resolvconf -u}}

== Tweeks ==

=== Setting Interface Metrics ===

If [[OpenVPN_Non_Root|OpenVPN]]({{Bug|391175}}) is used or any VPN that does not support interface metrics, interface metrics should be set via /etc/resolvconf.conf

For example, set vpn interface to have higher priority than other interfaces:
{{File|/etc/resolvconf,conf|<pre>
interface_order="lo lo[0-9]* vpn*"
</pre>}}

== Maintainer ==

[[User:Alonbl|Alon Bar-Lev]]

{{AuthorList|{{Author|Alon Bar-Lev|2011-11-17|type=original}}}}

[[Category:Network]]